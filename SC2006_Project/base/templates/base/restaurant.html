{% extends 'main.html' %}

{% block content %}

<h2>Ready to eat?</h2> 

<div>
    Restaurant: {{selected_res.name}} <br>
    Address: {{selected_res.address}} <br>
    Cuisine: {{selected_res.cuisine}}
</div>


<h3>Hear what others have to say!</h3>

{% for review in restaurantReview %}
    <p>Username: {{review.user_name}}</p>
    <p>Review: {{review.restaurant_review}}</p>
    <p>Rating: {{review.restaurant_rating}}/5</p>
    <p>------------------------------------</p>
{% endfor %}

<h3>Need some help? We'll show you how to get there!</h3>
<a href = "https://maps.google.com" id = aMap data-lat = '{{selected_res.lat}}' data-lon = '{{selected_res.lon}}'>Get directions here!</a>
<p></p>
<a href = "https://maps.google.com" id = aCarpark data-lat = '{{selected_res.lat}}' data-lon = '{{selected_res.lon}}'>Get nearby carparks here!</a>

<script>
    coord = document.getElementById("aMap");
    lat = coord.dataset.lat;
    lon = coord.dataset.lon;
    function getMapsUrl(){
        link = "https://www.google.com/maps/search/?api=1&query=" + lat + "," + lon
        return link;
    }
    function getCarparksUrl(){
        link = "https://www.google.com/maps/search/" + lat + "+" + lon + "+" + "carpark/@" + lat + "," + lon + "," + "17z/"
        return link;  
    }
    document.getElementById("aMap").href = getMapsUrl();
    document.getElementById("aCarpark").href = getCarparksUrl();
</script>



{% endblock content %}